!function(a,b){var d=function(){};a[b]=d}(this,"UIscript"),function(a,b,c){var e="beforeInit",f="afterInit",g=function(a,b,d){var g,h,i;if(d=d||{},a.superClass&&a.superClass.defConfig&&(a.defConfig=c.extend({},a.superClass.defConfig,a.defConfig)),d=b.defConfig=c.extend({},a.defConfig,d),d["expands"]&&c.extend(b,d["expands"]),a.superClass&&a.superClass.call(b,d),c.isFunction(a.prototype.init)&&(g=b.constructor===a,g&&c.isFunction(d[e])&&d[e].call(b,d),a.prototype.init.call(b,d),g&&c.isFunction(d[f])&&d[f].call(b,d),g))for(h=0,i=b._inits.length;i>h;h++)b._inits[h].call(b,b.defConfig)},h=function(a,b){var e,d=function(a){var b=this;b._inits=[],g(d,b,a)};return arguments.length<2?d.prototype=a:(e=function(){},e.prototype=b.prototype,d.prototype=new e,c.extend(d.prototype,a),d.superClass=b),d.prototype.constructor=d,d};a[b]=h}(UIscript,"Class",jQuery),function(a,b){var d=function(){this._isStop=!0},e={init:function(){this._events={}},addEvent:function(a,b){if(!b||"[object Function]"!==Object.prototype.toString.call(b))throw"Event.addEvent第二个参数必须是函数";var c=this,d=c._events;d[a]=d[a]||[],d[a].push(b)},removeEvent:function(a,b){var e,f,c=this,d=c._events;if(d[a]){if(!b)return delete d[a],void 0;for(e=d[a],f=e.length;f;)f--,e[f]===b&&e.splice(f,1);e.length||delete d[a]}},fireEvent:function(a){var e,f,g,h,i,b=this,c=b._events;if(c[a]){if(e=c[a],e._isStop)return delete e._isStop,void 0;for(f=0,g=e.length,h={type:a,data:b,stopEvent:d},i=[h].concat(Array.prototype.slice.call(arguments,1)),f=0;g>f;f++)if(h._isStop||e[f].apply(b,i)===!1)return h._isStop=!1,void 0}},stopEvent:function(a){var b=this,c=b._events;c[a]&&(c[a]._isStop=!0)}},f=a.Class(e);a[b]=f}(UIscript,"Event"),function(a,b,c,d){var e=function(){};e.win=c(window),e.doc=c(document),e.isIE=!!document.all,e.isIE6=window.ActiveXObject&&6==navigator.userAgent.toLowerCase().match(/msie ([\d.]+)/)[1]?!0:!1,e.toViewCenter=function(a){e.toViewCenter.fn(a),e.win.bind("resize",function(){e.toViewCenter.fn(a)})},e.toViewCenter.fn=function(a){var a=c(a),b=a.width(),d=a.height(),f=e.win.width(),g=e.win.height(),h=e.isIE6?e.win.scrollLeft():0,i=e.isIE6?e.win.scrollTop():0;a.css({left:f/2-b/2+h,top:g/2-d/2+i})},e.startFixed=function(b,d){var f,b=c(b),d=d||500,h=(parseInt(b.css("top")),e.win.scrollTop()),i=h,k=(parseInt(b.css("left")),e.win.scrollLeft()),l=k;return f=function(){var a=b.height(),c=b.width(),d=e.win.width(),f=e.win.height();i=e.win.scrollTop(),l=e.win.scrollLeft(),b.stop(),b.animate({top:f/2-a/2+i},50),h=i,b.animate({left:d/2-c/2+l},50),k=l},new a["Timer"]({time:d,fn:f})},e.getRandom=function(a,b){return Math.floor(Math.random()*(b-a+1)+a)},e.getByteLen=function(a){return a.replace(/[^\x00-\xff]/g,"xx").length},e.getParam=function(a){var b=new RegExp("(^|\\?|&)"+a+"=([^&]*)(\\s|&|$)","i");return b.test(location.href)?unescape(RegExp.$2.replace(/\+/g," ")):null},e.template=function(a,b){var e,f,d=b;for(e in d)d.hasOwnProperty(e)&&(f=RegExp("<#="+e+"#>","g"),a=a.replace(f,d[e]));return a},e.formatMoney=function(a,b){var a=Number(a),b=b==d||0>b?2:b,c=/(-?\d+)(\d{3})/;for(a=Number.prototype.toFixed?a.toFixed(b):Math.round(a*Math.pow(10,b))/Math.pow(10,b),a=""+a;c.test(a);)a=a.replace(c,"$1,$2");return a},a[b]=e}(UIscript,"util",jQuery),function(a,b,c,d){var h,f={input:null,date:new Date,cls:"",startYear:1980,endYear:(new Date).getFullYear(),effectShow:function(){this.dom.show()},effectHide:function(){this.dom.hide()},isLockInputType:!0,isShowTime:!1,setDisabled:function(){var a=this;a.getContent().find("td")}},g="<tr><th>日</th><th>一</th><th>二</th><th>三</th><th>四</th><th>五</th><th>六</th></tr>",i=[],j={init:function(b){var f,g,k,c=this;g=d(b.input),g.size()>0&&((f=c.checkCases(g.get(0)))&&(c.removeCase(f),f.dom.remove()),i.push(c)),c.input=g,c.randomNum=(""+Math.random()).replace("0.",""),c.effectShow=b.effectShow,c.effectHide=b.effectHide,c.dom=d('<div onselectstart="return false;" class="j-ui-datepicker '+b.cls+'" style="display:none;"><div class="control"><span class="pre">&lt;&lt;</span><span class="year"></span><span class="month"></span><span class="next">&gt;&gt;</span></div><div class="content"></div><div class="content-time" style="display:none;">时间：<input class="input time-input time-h" type="text" value="00" /> : <input class="input time-input time-s" type="text" value="00" /> : <input class="input time-input time-sec" type="text" value="00" />&nbsp;&nbsp;<a href="#" class="btn btn-small button-confirm" type="button" value="确定" >确定</a></div>').appendTo(d("body")),c.addEvent("afterRender",b.setDisabled),c.input.size()>0&&""!=d.trim(c.input.val())?c.setDate(c.input.val()):c.setDate(b.date),c.defConfig.isLockInputType&&c.input.size()>0&&c.input.keydown(function(a){return 8==a.keyCode||46==a.keyCode?!0:!1}),c.initSelectYear(b.startYear,b.endYear),c.initSelectMonth(),c.initSimulateSelect(),c.getContent().click(function(a){var b=d(a.target),e=c.getDate().getFullYear(),f=c.getDate().getMonth(),g=c.getDate().getDate();c.defConfig,"td"!=a.target.tagName.toLowerCase()||b.hasClass("day-disabled")||(b.hasClass("day-curr")?c.buttonConfirm():(f=b.hasClass("day-preMonth")?f-1:f,0>f&&(f=11,e-=1),f=b.hasClass("day-nextMonth")?f+1:f,f>11&&(f=0,e+=1),g=Number(b.text()),c.confirmDate(e,f,g)))}),c.dom.find(".content-time .button-confirm").click(function(a){var b=c.dom.find(".day-curr");b.size()>0&&!b.hasClass("day-disabled")&&c.buttonConfirm(),a.preventDefault()}),a.util.doc.bind("mousedown.datapcker-"+c.randomNum,function(a){d.contains(c.dom.get(0),a.target)||c.hide()}),c.getPreMonth().click(function(){c.preMonth()}),c.getNextMonth().click(function(){c.nextMonth()}),b.isShowTime&&(inputs=c.dom.find(".content-time .time-input"),k=function(){var b=this,c=d.trim(b.value),e=inputs.get(0);inputs.get(1),b==e?(b.value=c=c.replace(/^(\d{2}).*/g,"$1").replace(/\D/,""),c=Number(c)>23?23:c):(b.value=c=c.replace(/^(\d{2}).*/g,"$1").replace(/\D/,""),c=Number(c)>59?59:c),b.value=c},inputs.keyup(k).blur(function(){var a=this,b=d.trim(a.value);k.call(a),a.value=""==b?"00":Number(b)<10?"0"+Number(b):b}))},confirmDate:function(a,b,c,d){var g,e=this,f=e.defConfig,h=e.dom.find(".content-time input");f.isShowTime?(g=new Date(a,b,c),g.setHours(h.get(0).value,h.get(1).value,h.get(2).value,0),e.setDate(g),d&&(e.setInputVal(e.formatDateTime(a,b+1,c,g.getHours(),g.getMinutes(),g.getSeconds())),e.hide())):(e.setDate(new Date(a,b,c)),e.hide(),e.setInputVal(e.formatDate(a,b+1,c)))},buttonConfirm:function(){var a=this,b=a.getPanelDate();a.confirmDate(b.y,b.m,b.d,!0)},getPanelDate:function(){var a=this,b=Number(a.getControlYear().find("select").val()),c=Number(a.getControlMonth().find("select").val())-1,d=Number(a.dom.find(".day-curr").text()),e=a.dom.find(".content-time input"),f=Number(e.get(0).value),g=Number(e.get(1).value),h=Number(e.get(2).value);return{y:b,m:c,d:d,h:f,s:g,sec:h}},formatDate:function(a,b,c){return b=Number(b)<10?"0"+Number(b):b,c=Number(c)<10?"0"+Number(c):c,a+"-"+b+"-"+c},formatDateTime:function(a,b,c,d,e,f){return b=Number(b)<10?"0"+Number(b):b,c=Number(c)<10?"0"+Number(c):c,d=Number(d)<10?"0"+Number(d):d,e=Number(e)<10?"0"+Number(e):e,f=Number(f)<10?"0"+Number(f):f,a+"-"+b+"-"+c+"  "+d+":"+e+":"+f},removeCase:function(a){for(var b=0,c=i.length;c>b;b++)if(i[b]==a){i.splice(b,1);break}},checkCases:function(a){for(var b=0,c=i.length;c>b;b++)if(i[b]["input"]&&a==i[b]["input"].get(0))return i[b];return!1},initSelectYear:function(a,b){var c=this,d=[],e="",f=c.getDate().getFullYear();for(d.push('<select class="control-year">');b>=a;b--)e=b==f?' selected="selected" ':"",d.push("<option"+e+' value="'+b+'">'+b+"</option>");d.push("</select>"),c.getControlYear().html(d.join("")),c.dom.find(".control-year").change(function(){var a=Number(this.value),b=c.getDate().getMonth(),d=c.getDate().getDate();c.setDate(new Date(a,b,d))})},initSelectMonth:function(){var a=this,b=[],c=1,d=12,e="",f=a.getDate().getMonth();for(b.push('<select class="control-month">');d>=c;c++)e=c==f+1?' selected="selected" ':"",b.push("<option"+e+' value="'+c+'">'+c+"</option>");b.push("</select>"),a.getControlMonth().html(b.join("")),a.dom.find(".control-month").change(function(){var b=a.getDate().getFullYear(),c=Number(this.value)-1,d=1;a.setDate(new Date(b,c,d))})},initSimulateSelect:function(){var b=this,c=b.dom.find(".control-year"),d=b.dom.find(".control-month");a.Select&&(c.hide(),d.hide(),b.simSelectYear=new a.Select({realDom:c,cls:"select-year w-1"}),b.simSelectMonth=new a.Select({realDom:d,cls:"select-monty w-1"}),b.simSelectYear.addEvent("change",function(a,c){var e=Number(c),f=b.getDate().getMonth(),g=b.getDate().getDate();b.setDate(new Date(e,f,g))}),b.simSelectMonth.addEvent("change",function(a,c){var e=b.getDate().getFullYear(),f=Number(c)-1,g=1;b.setDate(new Date(e,f,g))}))},getDate:function(){return this._date},setDate:function(a){var d,e,f,j,b=this,c=[],g=0,h=0,i=0;b.defConfig,"string"==typeof a?(c=b.getDateArr(a),d=c[0],e=c[1]-1,f=c[2],c.length>4&&(g=c[3],h=c[4],i=c[5],i="undefined"==typeof i?"00":i)):"undefined"==typeof a?(j=new Date,d=j.getFullYear(),e=j.getMonth(),f=j.getDate(),g=j.getHours(),h=j.getMinutes(),i=_data.getSeconds()):(d=a.getFullYear(),e=a.getMonth(),f=a.getDate(),g=a.getHours(),h=a.getMinutes(),i=a.getSeconds()),b._date=new Date(d,e,f),b._date.setHours(g,h,i,0),b.render(d,e,f,g,h,i)},setInputVal:function(a){var b=this;b.input.size()>0&&b.input.val(a),b.fireEvent("afterSetValue")},getPreMonthDays:function(a,b){var a=0==b?a-1:a,c=new Date(a,b,0);return c.getDate()},getDateArr:function(a){return d.trim(a).replace(/\D/g,"-").replace(/\-+/g,"-").split("-")},show:function(){var b,a=this;a.input&&a.input.size()>0&&(b=a.input.offset(),a.dom.css({left:b.left,top:b.top+a.input.outerHeight()})),a.effectShow()},hide:function(){var b=this;b.effectHide(),a.util.doc.unbind("mousedown.datapcker-"+b.randomNum),b.dom.remove()},getPreMonth:function(){var a=this;return a._domPre||(a._domPre=a.dom.find(".pre"))},getNextMonth:function(){var a=this;return a._domNext||(a._domNext=a.dom.find(".next"))},getControlYear:function(){var a=this;return a._domYear||(a._domYear=a.dom.find(".year"))},getControlMonth:function(){var a=this;return a._domMonth||(a._domMonth=a.dom.find(".month"))},getContent:function(){var a=this;return a._content||(a._content=a.dom.find(".content"))},getMaxDay:function(a,b){var c=new Date(a,b+1,0);return c.getDate()},getWeek:function(a,b,c){return new Date(a,b,c).getDay()},isToday:function(a,b,c,d){return a.getFullYear()==b&&a.getMonth()==c&&a.getDate()==d},preMonth:function(){var a=this,b=a.getDate(),c=b.getFullYear(),d=b.getMonth();b.getDate(),d-=1,0>d&&(d=11,c-=1),a.setDate(new Date(c,d,1))},nextMonth:function(){var a=this,b=a.getDate(),c=b.getFullYear(),d=b.getMonth();b.getDate(),d+=1,d>11&&(d=0,c+=1),a.setDate(new Date(c,d,1))},render:function(a,b,c,d,e,f){var k,l,r,u,v,w,x,y,C,D,h=this,i=h.defConfig,m=(new Date,0),n=1,o=1,p=0,q=1,s=[],t=!0,z=new Date,A="day-today";for(a||(a=h._date.getFullYear(),b=h._date.getMonth(),c=h._date.getDate(),d=h._date.getHours(),e=h._date.getMinutes(),f=h._date.getSeconds()),k=h.getMaxDay(a,b),l=h.getWeek(a,b,0),r=Math.ceil((l+1+k)/7),u=h.getPreMonthDays(a,b),s.push('<table width="100%" class="tb">'),s.push("<tbody>"),s.push(g);r>m;m++){if(s.push("<tr>"),o=1,t){for(w=0>b-1?11:b-1,v=0>b-1?a-1:a;l>=p;p++)s.push('<td class="day-preMonth" data-year="'+v+'" data-month="'+w+'">'+(u-l+p)+"</td>");t=!1,o+=l+1}for(;k>=n&&0!=o%8;n++)A=h.isToday(z,a,b,n)?"day-today":"",daycurrCls=c==n?" day-curr ":"",s.push('<td class="day-thisMonth '+A+daycurrCls+'" data-year="'+a+'" data-month="'+b+'">'+n+"</td>"),o++;if(m==r-1)for(y=b+1>11?0:b+1,x=b+1>11?a+1:a;7*r-l-k>q;q++)s.push('<td class="day-nextMonth" data-year="'+x+'" data-month="'+y+'">'+q+"</td>");s.push("</tr>")}s.push("</tbody>"),s.push("</table>"),h.getContent().html(s.join("")),h.fireEvent("afterRender"),i.isShowTime&&(C=h.dom.find(".content-time"),C.show(),D=C.find("input"),D.get(0).value=Number(d)<10?"0"+Number(d):d,D.get(1).value=Number(e)<10?"0"+Number(e):e,D.get(2).value=Number(f)<10?"0"+Number(f):f),h.dom.find(".control-year option").each(function(){Number(this.value)==a?(this.selected=!0,h.simSelectYear&&h.simSelectYear.setValue(a,!0)):this.selected=!1}),h.dom.find(".control-month option").each(function(){Number(this.value)==b+1?(this.selected=!0,h.simSelectMonth&&h.simSelectMonth.setValue(b+1,!0)):this.selected=!1})}},k=a.Class(j,c);k.defConfig=f,a[b]=k,a[b].getInstance=function(){return h||(h=new a[b])}}(UIscript,"DatePicker",UIscript.Event,jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function i(b){var q,r,s,c=b||window.event,g=d.call(arguments,1),i=0,l=0,m=0,n=0,o=0,p=0;return b=a.event.fix(c),b.type="mousewheel","detail"in c&&(m=-1*c.detail),"wheelDelta"in c&&(m=c.wheelDelta),"wheelDeltaY"in c&&(m=c.wheelDeltaY),"wheelDeltaX"in c&&(l=-1*c.wheelDeltaX),"axis"in c&&c.axis===c.HORIZONTAL_AXIS&&(l=-1*m,m=0),i=0===m?l:m,"deltaY"in c&&(m=-1*c.deltaY,i=m),"deltaX"in c&&(l=c.deltaX,0===m&&(i=-1*l)),0!==m||0!==l?(1===c.deltaMode?(q=a.data(this,"mousewheel-line-height"),i*=q,m*=q,l*=q):2===c.deltaMode&&(r=a.data(this,"mousewheel-page-height"),i*=r,m*=r,l*=r),n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,k(c,n)&&(f/=40)),k(c,n)&&(i/=40,l/=40,m/=40),i=Math[i>=1?"floor":"ceil"](i/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),h.settings.normalizeOffset&&this.getBoundingClientRect&&(s=this.getBoundingClientRect(),o=b.clientX-s.left,p=b.clientY-s.top),b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,g.unshift(b,i,l,m),e&&clearTimeout(e),e=setTimeout(j,200),(a.event.dispatch||a.event.handle).apply(this,g)):void 0}function j(){f=null}function k(a,b){return h.settings.adjustOldDeltas&&"mousewheel"===a.type&&0===b%120}var e,f,g,h,b=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],c="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],d=Array.prototype.slice;if(a.event.fixHooks)for(g=b.length;g;)a.event.fixHooks[b[--g]]=a.event.mouseHooks;h=a.event.special.mousewheel={version:"3.1.11",setup:function(){if(this.addEventListener)for(var b=c.length;b;)this.addEventListener(c[--b],i,!1);else this.onmousewheel=i;a.data(this,"mousewheel-line-height",h.getLineHeight(this)),a.data(this,"mousewheel-page-height",h.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var b=c.length;b;)this.removeEventListener(c[--b],i,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b)["offsetParent"in a.fn?"offsetParent":"parent"]();return c.length||(c=a("body")),parseInt(c.css("fontSize"),10)},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}),function(a,b,c,d){var f={},g={init:function(a){var b=a||{},c=b.name?b.name:"#J-balls-order-wrap";this.scrollBar={eDom:d(c),direction:b.direction||"apeak",size:b.size||"5px"},this.allowMove=!1,this.allowWheel=!0,this._disposalDom()},toPositive:function(a){return 0>a?-a:a},toInt:function(a){return isNaN(parseInt(a))?0:parseInt(a)},_addEvent:function(){var a=this.scrollBar.eDom,b=this,c=a.find(".scroll_Bar");a.find(".scroll_Bar").bind("mousedown",function(a){var e=a||window.event,f=this;b.halt(e),"apeak"==b.scrollBar.direction?(b.noncePosition=e.clientY,b.scrollPosition=parseInt(c.css("top"))):(b.noncePosition=e.clientX,b.scrollPosition=parseInt(c.css("left"))),d(f).addClass("scroll_Bar_hover"),b._scrollBarClick(e),d(document).bind("mousemove",function(a){b.halt(a),b._scrollBarMove(a)}).one("mouseup",function(){d(document).unbind("mousemove"),d(f).removeClass("scroll_Bar_hover"),b.allowMove=null,b.noncePosition=null,b.scrollPosition=null})}),a.mousewheel(function(a){b._mouseWheel(a)}),a.find(".scroll_area").bind("click",function(a){var c=a||window.event,d=b.mouseCoords(c);b.controlBar(d,this)})},mouseCoords:function(a){return a.pageX||a.pageY?{x:a.pageX,y:a.pageY}:{x:a.clientX+document.body.scrollLeft-document.body.clientLeft,y:a.clientY+document.body.scrollTop-document.body.clientTop}},halt:function(a){a.preventDefault(),a.stopPropagation()},_disposalDom:function(){var c,a=this.scrollBar.eDom,b=a.html();"hidden"!=a.css("overflow")&&a.css({overflow:"hidden"}),"relative"!=a.css("position")&&a.css({position:"relative"}),a.append('<div class="scroll_warp">'+b+"</div>"),c=a.find(".scroll_warp"),c.css("position","absolute"),this._disposalBar()},controlBar:function(a,b){var e=("apeak"==this.scrollBar.direction?"top":"left","apeak"==this.scrollBar.direction?a.y:a.x),f="apeak"==this.scrollBar.direction?d(b).offset().top:d(b).offset().left,g=d(b).height()/100,h=parseInt((e-f)/g);this.scorllPosition(h+"%")},scrollhide:function(){var a=this.scrollBar.eDom,b=a.find(".scroll_warps");"visible"==b.css("visibility")&&(b.css("visibility","hidden"),this.allowWheel=!1)},scrollshow:function(){var a=this.scrollBar.eDom,b=a.find(".scroll_warps"),c=a.find(".scroll_Bar"),d="apeak"==this.scrollBar.direction?"top":"left";"hidden"==b.css("visibility")&&(b.css("visibility","visible"),this.allowWheel=!0,c.css(d,"0px"))},_checkHeight:function(){var d,a=this.scrollBar.eDom,b=a.find(".scroll_warp");return a.find(".scroll_warps"),d=a.find(".scroll_Bar"),b.outerHeight()-a.outerHeight()<this.toPositive(parseInt(b.css("top")))&&(b.css("top",-(b.outerHeight()-a.outerHeight())),d.css("top",a.outerHeight()-d.outerHeight())),"apeak"==this.scrollBar.direction&&b.outerHeight()<=a.outerHeight()?(this.scrollhide(),b.css("top","0px"),!0):"level"==this.scrollBar.direction&&b.outerWidth()<=a.outerWidth()?(this.scrollhide(),b.css("left","0px"),!0):(this.scrollshow(),!1)},_disposalBar:function(){var e,f,g,a=this.scrollBar.eDom,b=this.scrollBar.size,c=d('<div class="scroll_warps"><div class="scroll_area"><div class="scroll_Bar"></div></div></div>');a.append(c),e=a.find(".scroll_warps"),f=a.find(".scroll_area"),g=a.find(".scroll_Bar"),"apeak"==this.scrollBar.direction?(e.css({position:"absolute",width:b,height:a.outerHeight(),right:"5px",top:"0px",visibility:"visible"}),f.css({position:"relative",width:"100%",height:a.outerHeight()}),g.css({position:"absolute",width:b,"min-height":"20px",top:"0px",cursor:"pointer"})):(e.css({position:"absolute",width:a.outerWidth(),height:b,bottom:"5px",left:"0px",visibility:"visible"}),f.css({position:"relative",height:"100%",width:a.outerHeight()}),g.css({position:"absolute",height:b,"min-width":"20px",left:"0px",cursor:"pointer"})),this.resizeHeight(),this._addEvent()},scorllPosition:function(a){var g,h,i,b=this.scrollBar.eDom,c=b.find(".scroll_Bar"),e=b.find(".scroll_warps"),f=e.height()-c.height();if("number"==typeof a)g=a;else if("string"==typeof a)g=-1!=a.indexOf("%")||a.match(/^\d+$/g)?a:d(a).size()>1?d(d(a)[0]).position().top:d(a).position().top;else if("object"==typeof a&&a instanceof Array){if(h=b.find(a[0]),i=a[1],0==h.size()||"number"!=typeof i)return;g=d(h[i]).position().top}g="number"==typeof g?g/b.outerHeight()*e.outerHeight():parseInt(g)/100*e.outerHeight()-c.outerHeight()/2,g>f?g=f:0>g&&(g=0),this._processScroll(c,g)},resizeHeight:function(){var e,a=this.scrollBar.eDom,b=a.find(".scroll_warp"),c=a.find(".scroll_Bar"),d=a.find(".scroll_warps");this._checkHeight()||("apeak"==this.scrollBar.direction?(e=a.height(),c.css("height",100*(e/b.outerHeight())+"%"),d.css("height",a.outerHeight())):(e=a.width(),c.css("width",100*(e/b.outerWidth())+"%"),d.css("width",a.outerHeight())),this._innerPosition())},_innerPosition:function(){var a=this.scrollBar.eDom,b=a.find(".scroll_warp"),c=a.find(".scroll_Bar");"apeak"==this.scrollBar.direction?b.outerHeight()-a.outerHeight()<=this.toPositive(parseInt(b.css("top")))&&(b.css("top",-(b.outerHeight()-a.outerHeight())),c.css("top",a.outerHeight()-c.outerHeight())):b.outerWidth()-a.outerWidth()<=this.toPositive(parseInt(b.css("top")))&&(b.css("left",-(b.outerWidth()-a.outerWidth())),c.css("left",a.outerWidth()-c.outerWidth()))},_scrollBarClick:function(){this.allowMove=!0},_processScroll:function(a,b){var c="apeak"==this.scrollBar.direction?"top":"left";a.css(c,b),this._eWarpMove()},_scrollBarMove:function(a){var e,g,c=this.scrollBar.eDom;c.find(".scroll_warp"),e=c.find(".scroll_Bar"),this.allowMove&&(this._confine(a)||(g="apeak"==this.scrollBar.direction?a.clientY-this.noncePosition:a.clientX-this.noncePosition,this._processScroll(e,this.scrollPosition+g)))},_confine:function(a,b){var c=this.scrollBar.eDom,d=c.find(".scroll_warp"),e=c.find(".scroll_Bar"),f="apeak"==this.scrollBar.direction?a.clientY-this.noncePosition:a.clientX-this.noncePosition,g="apeak"==this.scrollBar.direction?"top":"left";if("mousewheel"==b&&(f=parseInt(e.css(g))),"apeak"==this.scrollBar.direction){if(this.scrollPosition+f<=0)return d.css("top","0px"),e.css("top","0px"),!0;if(this.scrollPosition+f>c.outerHeight()-e.outerHeight())return d.css("top",-(d.outerHeight()-c.outerHeight())),e.css("top",c.outerHeight()-e.outerHeight()),!0}else{if(this.scrollPosition+f<=0)return d.css("left","0px"),e.css("left","0px"),!0;if(this.scrollPosition+f>c.outerWidth()-e.outerWidth())return d.css("left",-(d.outerWidth()-c.outerWidth())),e.css("left",c.outerWidth()-e.outerWidth()),!0}return!1},_eWarpMove:function(){var a=this.scrollBar.eDom,b=a.find(".scroll_warp"),c=a.find(".scroll_Bar"),d="apeak"==this.scrollBar.direction?(b.outerHeight()-a.outerHeight())/(a.outerHeight()-c.outerHeight()):(b.outerWidth()-a.outerWidth())/(a.outerWidth()-c.outerWidth()),e="apeak"==this.scrollBar.direction?"top":"left",f=this.toInt(c.css(e));b.css(e,-(d*f))},_mouseWheel:function(a){var b="apeak"==this.scrollBar.direction?10*a.deltaY:10*a.deltaX,c=this.scrollBar.eDom,d=c.find(".scroll_Bar"),e="apeak"==this.scrollBar.direction?"top":"left";this.allowWheel&&(this.halt(a),this.scrollPosition=-b,this._confine(a,"mousewheel")||(d.css(e,parseInt(d.css(e))+-b),this._eWarpMove()))}},h=a.Class(g,c);h.defConfig=f,a[b]=h}(UIscript,"Scroll",UIscript.Event,jQuery),function(a,b,c,d){var f={cls:"",valueKey:"value",textKey:"text",isInput:!1,isCounter:!1,min:1,max:99999,step:1,realDom:"",zIndex:100,isScroll:!0,scrollHeight:310,scrollDis:31,tpl:'<div class="choose-model"><div class="choose-list"><div class="choose-list-cont" style="-webkit-overflow-scrolling: touch;"><#=loopItems#></div></div><span class="choose-scroll" onselectstart="return false;"></span><span class="info"><input data-realvalue="<#=value#>" class="choose-input choose-input-disabled" disabled="disabled" type="text" value="<#=text#>" /></span><i></i></div>',itemTpl:'<a data-value="<#=value#>" href="#"><#=text#></a>'},g={init:function(a){var b=this;b.opts=a,b.realDom=d(a.realDom),b.realDom.hide(),b.dom=null,b.listDom=null,b.buildSelect(),a.isCounter&&(b.$ctrlDecrease=d('<span class="select-counter-action counter-decrease" data-counter-action="decrease"></span>'),b.$ctrlIncrease=d('<span class="select-counter-action counter-increase" data-counter-action="increase"></span>'),b.dom.before(b.$ctrlDecrease).after(b.$ctrlIncrease),b.$ctrl=b.$ctrlDecrease.add(b.$ctrlIncrease),b.setMinValue(a.min),b.setMaxValue(a.max),b.counterEvent(a)),b.initEvent()},show:function(){this.dom.show()},hide:function(){this.dom.hide()},showScroll:function(){var a=this;a.isScrollAble&&this.getScrollDom().show()},hideScroll:function(){var a=this,b=a.getScrollDom();b.hide(),a.isScrollAble&&(a.scrollSetTop(0),b.css("top",0))},getScrollDom:function(){var a=this;return a.scrollDom||(a.scrollDom=a.dom.find(".choose-scroll"))},initScroll:function(){var a=this,b=a.defConfig;a.getListContDomHeight()>b.scrollHeight?(a.isScrollAble=!0,a.getListDom().css({height:b.scrollHeight,overflow:"hidden"}),a.reBuildScroll()):a.isScrollAble=!1},reBuildScroll:function(){var a=this,b=a.defConfig,c=b.scrollHeight,d=a.getListContDomHeight();a.scrollBl=d/c,a.getScrollDom().css("height",c/a.scrollBl),a.scrollMin=0},scrollSetTop:function(a){var b=this;b.getListDom().scrollTop(a*b.scrollBl)},getListDom:function(){var a=this;return a.listDom||(a.listDom=a.dom.find(".choose-list"))},getListContDom:function(){var a=this;return a.listContDom||(a.listContDom=a.dom.find(".choose-list-cont"))},getListContDomHeight:function(){var a=this,b=0;return a.getListDom().css({visibility:"hidden"}).show(),b=a.getListContDom().height(),a.getListDom().css({visibility:"visible"}).hide(),b},buildSelect:function(){for(var a=this,b=a.defConfig,c=b.tpl,e=b.itemTpl,f=a.getRealDom().options,g=f.length,h=0,i=[],j="",k="";g>h;h++)i[h]=e.replace(/<#=value#>/g,f[h].value).replace(/<#=text#>/g,f[h].text),h==a.getRealDom().selectedIndex&&(j=f[h].value,k=f[h].text);c=c.replace(/<#=text#>/g,k).replace(/<#=loopItems#>/g,i.join("")),a.dom=d(c),a.dom.addClass(b.cls),a.dom.insertBefore(a.getRealDom()),b.isScroll&&a.initScroll(),b.isInput&&(a.getInput().removeAttr("disabled"),a.getInput().removeClass("choose-input-disabled"),a.inputEvent()),a.setValue(j),a.reSetListWidth()},reSetListWidth:function(){var b=this,c=0;a.util.isIE6&&(c=b.dom.width()+8,b.getListDom().width(c))},reBuildSelect:function(a){var i,b=this,c=b.defConfig,e=d(b.getRealDom()),f=[],g=[],h=b.defConfig.itemTpl;d.each(a,function(a){f[a]='<option value="'+this[c.valueKey]+'">'+this[c.textKey]+"</option>",g[a]=h.replace(/<#=value#>/g,this[c.valueKey]).replace(/<#=text#>/g,this[c.textKey]),this["checked"]&&(i=a)}),e.html(f.join("")),b.getListContDom().html(g.join("")),"undefined"!=typeof i&&b.setValue(a[i][c.valueKey]),b.defConfig.isScroll&&b.initScroll()},initEvent:function(){var e,h,f,i,j,k,l,a=this,b=a.defConfig.scrollDis;d(document).mousedown(function(b){var c=b.target;d.contains(a.dom.get(0),c)||(a.getListDom().hide(),a.hideScroll(),a.dom.css("zIndex",""),a.dom.find(".open").removeClass("open"))}),d(window).blur(function(){a.getListDom().hide(),a.dom.css("zIndex",""),a.dom.find(".open").removeClass("open"),a.hideScroll()}),a.dom.click(function(b){var c=b.target,e=c.getAttribute("data-value");null!=e&&a.setValue(e),"none"!=d.trim(a.getListDom().css("display").toLowerCase())?(a.dom.css("zIndex",""),a.getListDom().hide(),a.hideScroll(),a.dom.find(".open").removeClass("open")):(a.dom.css("zIndex",a.defConfig.zIndex),a.getListDom().show(),a.showScroll(),a.dom.find("i").addClass("open")),b.preventDefault()}),e=0,a.getListDom().mousewheel(function(c,d){e+=5*d,c.preventDefault(),clearTimeout(a.timer),a.timer=setTimeout(function(){var c=a.getListDom(),d=c.scrollTop();parseInt(a.getScrollDom().css("top")),newTop=d+-1*e*b,scrollTop=0,contHeight=a.getListContDom().height(),maxScroll=c.height()-a.getScrollDom().outerHeight()-4,e=0,c.stop().animate({scrollTop:newTop},500,"easeOutQuad"),scrollTop=newTop/a.scrollBl,scrollTop=0>scrollTop?0:scrollTop,scrollTop=scrollTop>maxScroll?maxScroll:scrollTop,a.scrollDom.stop().animate({top:scrollTop},400,"easeOutQuad")},10)}),f=a.getScrollDom(),i=!1,j=function(a){i=!0,h=a.clientY-parseInt(f.css("top")),f.get(0).setCapture?f.get(0).setCapture():window.captureEvents&&window.captureEvents(c.MOUSEMOVE|c.MOUSEUP),d(document).bind("mousemove",k),d(document).bind("mouseup",l)},k=function(b){var c=b.clientY-h,d=0;return b.preventDefault(),i?(d=a.getListDom().height()-f.height()-4,c=0>c?0:c,c=c>d?d:c,f.css("top",c),c=c==d?100*c:c,a.scrollSetTop(c),void 0):!1},l=function(){f.get(0).releaseCapture?f.get(0).releaseCapture():window.captureEvents&&window.captureEvents(c.MOUSEMOVE|c.MOUSEUP),i=!1,d(document).unbind("mousemove",k),d(document).unbind("mouseup",l)},f.mousedown(j),f.click(function(a){a.preventDefault(),a.stopPropagation()})},getInput:function(){var a=this;return a.input||(a.input=a.dom.find(".choose-input"))},inputEvent:function(){},getRealDom:function(){return this.realDom.get(0)},getItemList:function(){var a=this;return a.getListContDom().children()},setValue:function(a,b){for(var c=this,d=c.getRealDom(),f=(d.selectedIndex,d.options),g=f.length,h=0,i="";g>h;h++)a==f[h].value?(f[h].selected=!0,i=f[h].text):f[h].selected=!1;a=""+a,c.getInput().attr("data-realvalue",a),i=""==i?a:i,c.getInput().val(i),b||c.fireEvent("change",a,i),c.getItemList().removeClass("choose-item-current").parent().find('[data-value="'+a+'"]').addClass("choose-item-current"),c.opts.isCounter&&c.checkCtrl()},getValue:function(){var a=this,b=a.getRealDom(),c=b.selectedIndex;return a.defConfig.isInput?a.getInput().attr("data-realvalue"):b.options[c].value},getText:function(){var a=this.getRealDom(),b=a.selectedIndex;return a.options[b].text},setMinValue:function(a){this.minValue=a,this.checkCtrl()},getMinValue:function(){return this.minValue},setMaxValue:function(a){this.maxValue=a,this.checkCtrl()},getMaxValue:function(){return this.maxValue},setButtonStatus:function(a,b){if(this.$ctrl){var c=this.$ctrl.filter('[data-counter-action="'+a+'"]');"disabled"==b?c.addClass("disabled"):c.removeClass("disabled")}},checkCtrl:function(){var a=this,b=a.getValue();return b<=a.getMinValue()?(a.setButtonStatus("decrease","disabled"),b=a.getMinValue()):a.setButtonStatus("decrease"),b>=a.getMaxValue()?(a.setButtonStatus("increase","disabled"),b=a.getMaxValue()):a.setButtonStatus("increase"),b},counterEvent:function(){var a=this,b=a.opts;a.$ctrl.on("click",function(){if(d(this).hasClass("disabled"))return!1;var e=parseInt(a.getValue()),f=d(this).data("counter-action");"increase"==f?e+=b.step:"decrease"==f&&(e-=b.step),a.setValue(e)})}},h=a.Class(g,c);h.defConfig=f,a[b]=h}(UIscript,"Select",UIscript.Event,jQuery),function(a,b,c,d){var i,f={target:"body",opacity:.7,"background-color":"#000","z-index":600,effectShow:function(){var a=this;a.dom.css("opacity",0),a.dom.show(),a.dom.animate({opacity:.7},300)},effectHide:function(){this.dom.hide()}},h=(d("html"),d(document)),j={init:function(a){var b=this;b.dom=d('<div class="j-ui-mask" style="display:none;position:absolute;left:0;top:0;"></div>').appendTo("body").css({opacity:a["opacity"],"background-color":a["background-color"],"z-index":a["z-index"]}),b.effectShow=a.effectShow,b.effectHide=a.effectHide},show:function(){var a=this,b=h.width(),c=h.height();a.dom.css({width:b,height:c}),this.effectShow()},hide:function(){this.effectHide(),this.fireEvent("afterHide")},css:function(a){this.dom.css(a)}},k=a.Class(j,c);k.defConfig=f,a[b]=function(){return a[b].getInstance()},a[b].getInstance=function(){return i||(i=new k(f))}}(UIscript,"Mask",UIscript.Event,jQuery),function(a,b,c,d){var i,j,k,f=a.util,g={confirmButtonText:"confirm",cancelButtonText:"cancel",closeButtonText:"closeTip",cls:"",contentHtml:"",afterSetContentDelay:0,effectShow:function(){var b,a=this;f.toViewCenter(a.dom),b=parseInt(a.dom.css("top")),a.dom.css({top:b,opacity:1}),a.dom.show(),a.dom.animate({top:b,opacity:1},300)},effectHide:function(){this.dom.hide()},zIndex:700,isFixed:!0};d(document),j={init:function(a){var b=this,c=a.isFixed?"fixed":"absolute";c=f.isIE6?"absolute":c,b.dom=d('<div class="j-ui-miniwindow pop '+a.cls+'" style="z-index:'+a.zIndex+";position:"+c+';display:none;"><div class="pop-hd"><i class="pop-close closeBtn"></i><span class="pop-title">提示</span></div><div class="pop-bd"></div><div class="pop-control"><a style="display:none" href="javascript:void(0);" class="btn confirm">确 认</a><a style="display:none" href="javascript:void(0);" class="btn cancel">取 消</a><a href="javascript:void(0);" style="display:none" class="btn closeTip">关 闭</a></div></div>').appendTo("body"),b.effectShow=a.effectShow,b.effectHide=a.effectHide,b.dom.on("click",".closeBtn",function(){b.doNormalClose(),b.hide()}),b.dom.find("."+b.defConfig.confirmButtonText).bind("click",function(){b.doConfirm()}),b.dom.find("."+b.defConfig.cancelButtonText).bind("click",function(){b.doCancel()}),b.dom.find("."+b.defConfig.closeButtonText).bind("click",function(){b.doClose()})},doNormalClose:function(){},doConfirm:function(){this.disabled=!0},doCancel:function(){},doClose:function(){},getConfirmButtonDom:function(){var a=this;
return a.getContainerDom().find("."+a.defConfig.confirmButtonText)},getCancelButtonDom:function(){var a=this;return a.getContainerDom().find("."+a.defConfig.cancelButtonText)},getCloseButtonDom:function(){var a=this;return a.getContainerDom().find("."+a.defConfig.closeButtonText)},setConfirmName:function(a){var b=this;b.getConfirmButtonDom().text(a)},setCancelName:function(a){var b=this;b.getCancelButtonDom().text(a)},setCloseName:function(a){var b=this;b.getCloseButtonDom().text(a)},showConfirmButton:function(){var a=this;a.getConfirmButtonDom().show()},showCancelButton:function(){var a=this;a.getCancelButtonDom().show()},showCloseButton:function(){var a=this;a.getCloseButtonDom().show()},hideConfirmButton:function(){var a=this;a.getConfirmButtonDom().hide()},hideCancelButton:function(){var a=this;a.getCancelButtonDom().hide()},hideCloseButton:function(){var a=this;a.getCloseButtonDom().hide()},setTitle:function(a){this.getTitleDom().html(a)},setContent:function(a,b){var c=this,d=c.defConfig,e=0;c.getContentDom().html(a),e=d.afterSetContentDelay?d.afterSetContentDelay:e,e=b?b:e,e>0?setTimeout(function(){c.fireEvent("afterSetContent")},e):c.fireEvent("afterSetContent")},show:function(){var a=this;a.fireEvent("beforeShow"),this.effectShow(),a.fireEvent("afterShow"),f.isIE6&&a.defConfig.isFixed&&(a._IE6Fixed=f.startFixed(a.dom))},hide:function(){var a=this;a.effectHide(),a.fireEvent("afterHide"),f.isIE6&&a.defConfig.isFixed&&a._IE6Fixed.stop()},getContainerDom:function(){var a=this;return a._containerDom||(a._containerDom=a.dom)},getCloseDom:function(){var a=this;return a._closeDom||(a._closeDom=a.dom.find(".pop-close"))},getTitleDom:function(){var a=this;return a._titleDom||(a._titleDom=a.dom.find(".pop-title"))},getContentDom:function(){var a=this;return a._ContentDom||(a._ContentDom=a.dom.find(".pop-bd"))},showTip:function(a){var c=this,e=[];e.push('<div class="ui-miniwindow-tip"><div class="inner">'),e.push(a),e.push("</div></div>"),c.tipdom=d(e.join("")),c.tipdom.appendTo(d("body")).show(),c.tipdom.css({marginTop:-1*(c.tipdom.height()/2),marginLeft:-1*(c.tipdom.width()/2)})},hideTip:function(){var a=this;a.tipdom&&a.tipdom.remove()}},k=a.Class(j,c),k.defConfig=g,a[b]=k,a[b].getInstance=function(){return i||(i=new k(g))}}(UIscript,"MiniWindow",UIscript.Event,jQuery),function(a,b,c){var f,e={cls:""},g={init:function(b){var c=this;c.win=new a.MiniWindow(b),c.mask=a.Mask.getInstance(),c.reSet(),c.win.addEvent("afterHide",function(){c.reSet()}),c.closeTime=0},doAction:function(a){var b=this,c="rebulid"+a["type"],d="getHtml"+a["type"],e=function(){};b[c]&&$.isFunction(b[c])&&(e=b[c]),a["tpl"]="undefined"==typeof a["tpl"]?b[d]():""+a["tpl"],delete a["type"],e.call(b,a)},formatHtml:function(a,b){var e,f,d=b;for(e in d)d.hasOwnProperty(e)&&(f=RegExp("<#="+e+"#>","g"),a=a.replace(f,d[e]));return a},setTitle:function(a){var b=this,c=b.win;c.setTitle(a)},setContent:function(a,b){var c=this,d=c.win;d.setContent(a,b)},hideClose:function(){var a=this,b=a.win;b.getCloseDom().hide()},hideTitle:function(){var a=this,b=a.win;b.getTitleDom().hide()},addCssName:function(a){var b=this,c=b.win;c.getContainerDom().addClass(a)},restCssName:function(){var a=this,b=a.win,c=a.defConfig.cls;a.removeCssName(),b.getContainerDom().addClass(c)},removeCssName:function(a){var b=this,c=b.win;a?c.getContainerDom().removeClass(a):c.getContainerDom().removeClass()},show:function(a){var b=this,c=b.win;if("undefined"==typeof a)return c.show(),void 0;if(b.reSet(),"undefined"==typeof a["data"]&&(a["data"]={}),a["data"]["tplData"]="undefined"==typeof a["data"]["tplData"]?{}:a["data"]["tplData"],a){if(a["type"])return b.doAction(a),void 0;"undefined"!=typeof a["tpl"]&&(a["content"]=b.formatHtml(a["tpl"],a["data"]["tplData"])),b.closeTime&&(clearTimeout(b.closeTime),b.closeTime=null),b.setTitle(a["title"]||"温馨提示"),b.setContent(a["content"]||""),a["cssName"]&&b.addCssName(a["cssName"]),a["confirmText"]&&c.setConfirmName(a["confirmText"]),a["cancelText"]&&c.setCancelName(a["cancelText"]),a["closeText"]&&c.setCloseName(a["closeText"]),a["normalCloseFun"]&&(c.doNormalClose=a["normalCloseFun"]),a["confirmFun"]&&(c.doConfirm=a["confirmFun"]),a["cancelFun"]&&(c.doCancel=a["cancelFun"]),a["closeFun"]&&(c.doClose=a["closeFun"]),a["confirmIsShow"]&&c.showConfirmButton(),a["cancelIsShow"]&&c.showCancelButton(),a["closeIsShow"]&&c.showCloseButton(),a["hideTitle"]&&b.hideTitle(),a["hideClose"]&&b.hideClose(),a["isShowMask"]&&b.mask.show(),c.show(),a["callback"]&&a["callback"].call(b),a["time"]>0&&(b.closeTime=setTimeout(function(){b.hide(),clearTimeout(b.closeTime),b.closeTime=null},1e3*a["time"]))}},getContainerDom:function(){var a=this;return a.win.getContainerDom()},getContentDom:function(){var a=this;return a.win.getContentDom()},hide:function(){var a=this,b=a.win;b.hide(),a.reSet()},reSet:function(){var a=this,b=a.win;a.mask.hide(),a.setTitle("提示"),a.setContent(""),b.hideConfirmButton(),b.hideCancelButton(),b.hideCloseButton(),b.doConfirm=function(){},b.doCancel=function(){},b.doClose=function(){},b.doNormalClose=function(){},b.setConfirmName("确 认"),b.setCancelName("取 消"),b.setCloseName("关 闭")}},h=a.Class(g,c);h.defConfig=e,h.getInstance=function(a){return f||(f=new h(a))},a[b]=h}(UIscript,"Message",UIscript.Event),function(a,b,c,d,e){var i,f={cls:"j-ui-tip-l",target:"body",text:"",effectShow:function(){this.dom.show()},effectHide:function(){this.dom.hide()}},g="j-ui-tip",h=500,j={init:function(a){var b=this;b.dom=d('<div class="'+g+" "+a.cls+'" style="display:none;position:absolute;left:0;top:0;z-index:'+h++ +';"><i class="sj sj-t"></i><i class="sj sj-r"></i><i class="sj sj-b"></i><i class="sj sj-l"></i><span class="ui-tip-text">'+a.text+"</span></div>").appendTo(d("body")),b.effectShow=a.effectShow,b.effectHide=a.effectHide},getTextContainer:function(){var a=this;return a._textContainer||(a._textContainer=a.dom.find(".ui-tip-text"))},getDom:function(){return this.dom},setText:function(a){var b=this;b.getTextContainer().html(a)},show:function(a,b,c){var f=this,g=(c==e?d(f.defConfig.target):d(c)).offset();f.dom.css({left:g.left+a,top:g.top+b}),f.effectShow()},hide:function(){this.effectHide()},remove:function(){this.getDom().remove()}},k=a.Class(j,c);k.defConfig=f,a[b]=k,a[b].getInstance=function(){return i||(i=new a[b]({cls:"j-ui-tip-l j-ui-tip-info"}))}}(UIscript,"Tip",UIscript.Event,jQuery);