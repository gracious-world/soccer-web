!function(t,e,n){var o=function(){};t[e]=o}(this,"gagame"),function(t,e,n,o){var i="beforeInit",s="afterInit",a=function(t,e,o){var o=o||{};if(t.superClass&&t.superClass.defConfig&&(t.defConfig=n.extend({},t.superClass.defConfig,t.defConfig)),o=e.defConfig=n.extend({},t.defConfig,o),o.expands&&n.extend(e,o.expands),t.superClass&&t.superClass.call(e,o),n.isFunction(t.prototype.init)){var a=e.constructor===t;if(a&&n.isFunction(o[i])&&o[i].call(e,o),t.prototype.init.call(e,o),a&&n.isFunction(o[s])&&o[s].call(e,o),a)for(var r=0,c=e._inits.length;c>r;r++)e._inits[r].call(e,e.defConfig)}},r=function(t,e){var o=function(t){var e=this;e._inits=[],a(o,e,t)};if(arguments.length<2)o.prototype=t;else{var i=function(){};i.prototype=e.prototype,o.prototype=new i,n.extend(o.prototype,t),o.superClass=e}return o.prototype.constructor=o,o};t[e]=r}(gagame,"Class",jQuery),function(t,e,n){var o=function(){this._isStop=!0},i={init:function(t){this._events={}},addEvent:function(t,e){if(!e||"[object Function]"!==Object.prototype.toString.call(e))throw"Event.addEvent第二个参数必须是函数";var n=this,o=n._events;o[t]=o[t]||[],o[t].push(e)},removeEvent:function(t,e){var n=this,o=n._events;if(o[t]){if(!e)return void delete o[t];for(var i=o[t],s=i.length;s;)s--,i[s]===e&&i.splice(s,1);i.length||delete o[t]}},fireEvent:function(t){var e=this,n=e._events;if(n[t]){var i=n[t];if(i._isStop)return void delete i._isStop;for(var s=0,a=i.length,r={type:t,data:e,stopEvent:o},c=[r].concat(Array.prototype.slice.call(arguments,1)),s=0;a>s;s++)if(r._isStop||i[s].apply(e,c)===!1)return void(r._isStop=!1)}},stopEvent:function(t){var e=this,n=e._events;n[t]&&(n[t]._isStop=!0)}},s=t.Class(i);t[e]=s}(gagame,"Event"),function(t,e,n,o){var i=function(){};i.win=n(window),i.doc=n(document),i.isIE=!!document.all,i.isIE6=window.ActiveXObject&&6==navigator.userAgent.toLowerCase().match(/msie ([\d.]+)/)[1]?!0:!1,i.toViewCenter=function(t){i.toViewCenter.fn(t),i.win.bind("resize",function(){i.toViewCenter.fn(t)})},i.toViewCenter.fn=function(t){var t=n(t),e=t.width(),o=t.height(),s=i.win.width(),a=i.win.height(),r=i.isIE6?i.win.scrollLeft():0,c=i.isIE6?i.win.scrollTop():0;t.css({left:s/2-e/2+r,top:a/2-o/2+c})},i.startFixed=function(e,o){var s,e=n(e),o=o||500,a=(parseInt(e.css("top")),i.win.scrollTop()),r=a,c=(parseInt(e.css("left")),i.win.scrollLeft()),f=c;return s=function(){var t=e.height(),n=e.width(),o=i.win.width(),s=i.win.height();r=i.win.scrollTop(),f=i.win.scrollLeft(),e.stop(),e.animate({top:s/2-t/2+r},50),a=r,e.animate({left:o/2-n/2+f},50),c=f},new t.Timer({time:o,fn:s})},i.getRandom=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},i.getByteLen=function(t){return t.replace(/[^\x00-\xff]/g,"xx").length},i.getParam=function(t){var e=new RegExp("(^|\\?|&)"+t+"=([^&]*)(\\s|&|$)","i");return e.test(location.href)?unescape(RegExp.$2.replace(/\+/g," ")):null},i.template=function(t,e){var n,o,i=e;for(n in i)i.hasOwnProperty(n)&&(o=RegExp("<#="+n+"#>","g"),t=t.replace(o,i[n]));return t},i.formatMoney=function(t,e){var t=Number(t),e=e==o||0>e?2:e,n=/(-?\d+)(\d{3})/;for(t=Number.prototype.toFixed?t.toFixed(e):Math.round(t*Math.pow(10,e))/Math.pow(10,e),t=""+t;n.test(t);)t=t.replace(n,"$1,$2");return t},t[e]=i}(gagame,"util",jQuery),function(t,e,n,o,i){var s={},a=function(t){var e=this;e.init(t)};a.prototype={init:function(t){var e=this;e.defConfig=t,e.height=t.height,e.length=t.length,e.dom=o(t.dom),e.firstDom=e.dom.children().eq(0),e.top=parseInt(e.dom.css("marginTop")),e.firstDomIsRelative=!1,e.stopPos=0,e.defConfig.emptyTimes=t.emptyTimes||1,e.moveEmptyTimes=1e8,t.callback&&(e.callback=t.callback)},callback:function(){},start:function(){var t=this;t.isMoving=!1,t.moveEmpty()},setStopPos:function(t){this.stopPos=t},moveStop:function(t){var e=this;e.setStopPos(t*e.height*-1),e.moveEmptyTimes=e.defConfig.emptyTimes},reSet:function(){},moveEmpty:function(e){var n=this,o=n.height*n.length*-1+1,i=o+n.height,s=e||{duration:1e3,easing:"linear",step:function(){n.top=parseInt(n.dom.css("marginTop")),!n.firstDomIsRelative&&n.top<=i&&(n.firstDom.css("position","relative"),n.firstDomIsRelative=!0)},complete:function(){n.firstDom.css({position:"static"}),n.firstDomIsRelative=!1,n.dom.css("marginTop",0),n.top=0,n.moveEmptyTimes-=1,n.moveEmptyTimes>1?n.moveEmpty():(n.moveEmptyTimes=n.defConfig.emptyTimes,0==n.stopPos?(n.dom.css({marginTop:1*-n.height}),n.dom.animate({marginTop:n.height*n.length*-1+1},{duration:2500,easing:"easeOutQuart",step:function(){n.top=parseInt(n.dom.css("marginTop")),!n.firstDomIsRelative&&n.top<=i&&(n.firstDom.css("position","relative"),n.firstDom.css("top",n.height*n.length),n.firstDomIsRelative=!0)},complete:function(){n.isMoving=!0,n.callback()}})):n.dom.stop().animate({marginTop:n.stopPos},{duration:t.util.getRandom(1e3,2500),easing:"easeOutQuart",complete:function(){n.isMoving=!0,n.callback()}}))}};n.dom.stop().animate({marginTop:o},s)},constructor:a};var r={init:function(t){var e=this,t=o.extend({},t);e.doms=o(t.dom),e.items=[],t.callback&&(e.callback=t.callback),e.doms.each(function(n){e.items[n]=new a(o.extend({},t,{dom:this,callback:function(){var t=1;o.each(e.items,function(){this.isMoving||(t+=1)}),t==e.items.length&&e.callback()}}))})},callback:function(){},start:function(){var e=this;e.doms.each(function(n){setTimeout(function(){e.items[n].start()},100*t.util.getRandom(1,5))})},stop:function(t){var e=this;o.each(e.items,function(e){this.moveStop(t[e])})}},c=t.Class(r,n);c.defConfig=s,t[e]=c}(gagame,"Ernie",gagame.Event,jQuery),function(t,e,n,o,i){var s,a={target:"body",opacity:.7,"background-color":"#000","z-index":600,effectShow:function(){var t=this;t.dom.css("opacity",0),t.dom.show(),t.dom.animate({opacity:.7},300)},effectHide:function(){this.dom.hide()}},r=(o("html"),o(document)),c={init:function(t){var e=this;e.dom=o('<div class="j-ui-mask" style="display:none;position:absolute;left:0;top:0;"></div>').appendTo("body").css({opacity:t.opacity,"background-color":t["background-color"],"z-index":t["z-index"]}),e.effectShow=t.effectShow,e.effectHide=t.effectHide},show:function(){var t=this,e=r.width(),n=r.height();t.dom.css({width:e,height:n}),this.effectShow()},hide:function(){this.effectHide(),this.fireEvent("afterHide")},css:function(t){this.dom.css(t)}},f=t.Class(c,n);f.defConfig=a,t[e]=function(){return t[e].getInstance()},t[e].getInstance=function(){return s||(s=new f(a))}}(gagame,"Mask",gagame.Event,jQuery),function(t,e,n,o,i){var s,a=t.util,r={confirmButtonText:"confirm",cancelButtonText:"cancel",closeButtonText:"closeTip",cls:"",contentHtml:"",afterSetContentDelay:0,effectShow:function(){var t,e=this;a.toViewCenter(e.dom),t=parseInt(e.dom.css("top")),e.dom.css({top:t+100,opacity:1}),e.dom.show(),e.dom.animate({top:t-100,opacity:1},300)},effectHide:function(){this.dom.hide()},zIndex:700,isFixed:!0},c=(o(document),{init:function(t){var e=this,n=t.isFixed?"fixed":"absolute";n=a.isIE6?"absolute":n,e.dom=o('<div class="j-ui-miniwindow pop '+t.cls+'" style="z-index:'+t.zIndex+";position:"+n+';display:none;"><div class="pop-hd"><i class="pop-close closeBtn"></i><span class="pop-title">提示</span></div><div class="pop-bd"></div><div class="pop-control"><a style="display:none" href="javascript:void(0);" class="btn confirm">确 认</a><a style="display:none" href="javascript:void(0);" class="btn cancel">取 消</a><a href="javascript:void(0);" style="display:none" class="btn closeTip">关 闭</a></div></div>').appendTo("body"),e.effectShow=t.effectShow,e.effectHide=t.effectHide,e.dom.on("click",".closeBtn",function(){e.doNormalClose(),e.hide()}),e.dom.find("."+e.defConfig.confirmButtonText).bind("click",function(){e.doConfirm()}),e.dom.find("."+e.defConfig.cancelButtonText).bind("click",function(){e.doCancel()}),e.dom.find("."+e.defConfig.closeButtonText).bind("click",function(){e.doClose()})},doNormalClose:function(){},doConfirm:function(){this.disabled=!0},doCancel:function(){},doClose:function(){},getConfirmButtonDom:function(){var t=this;return t.getContainerDom().find("."+t.defConfig.confirmButtonText)},getCancelButtonDom:function(){var t=this;return t.getContainerDom().find("."+t.defConfig.cancelButtonText)},getCloseButtonDom:function(){var t=this;return t.getContainerDom().find("."+t.defConfig.closeButtonText)},setConfirmName:function(t){var e=this;e.getConfirmButtonDom().text(t)},setCancelName:function(t){var e=this;e.getCancelButtonDom().text(t)},setCloseName:function(t){var e=this;e.getCloseButtonDom().text(t)},showConfirmButton:function(){var t=this;t.getConfirmButtonDom().show()},showCancelButton:function(){var t=this;t.getCancelButtonDom().show()},showCloseButton:function(){var t=this;t.getCloseButtonDom().show()},hideConfirmButton:function(){var t=this;t.getConfirmButtonDom().hide()},hideCancelButton:function(){var t=this;t.getCancelButtonDom().hide()},hideCloseButton:function(){var t=this;t.getCloseButtonDom().hide()},setTitle:function(t){this.getTitleDom().html(t)},setContent:function(t,e){var n=this,o=n.defConfig,i=0;n.getContentDom().html(t),i=o.afterSetContentDelay?o.afterSetContentDelay:i,i=e?e:i,i>0?setTimeout(function(){n.fireEvent("afterSetContent")},i):n.fireEvent("afterSetContent")},show:function(){var t=this;t.fireEvent("beforeShow"),this.effectShow(),t.fireEvent("afterShow"),a.isIE6&&t.defConfig.isFixed&&(t._IE6Fixed=a.startFixed(t.dom))},hide:function(){var t=this;t.effectHide(),t.fireEvent("afterHide"),a.isIE6&&t.defConfig.isFixed&&t._IE6Fixed.stop()},getContainerDom:function(){var t=this;return t._containerDom||(t._containerDom=t.dom)},getCloseDom:function(){var t=this;return t._closeDom||(t._closeDom=t.dom.find(".pop-close"))},getTitleDom:function(){var t=this;return t._titleDom||(t._titleDom=t.dom.find(".pop-title"))},getContentDom:function(){var t=this;return t._ContentDom||(t._ContentDom=t.dom.find(".pop-bd"))},showTip:function(t,e){var n=this,i=[];i.push('<div class="ui-miniwindow-tip"><div class="inner">'),i.push(t),i.push("</div></div>"),n.tipdom=o(i.join("")),n.tipdom.appendTo(o("body")).show(),n.tipdom.css({marginTop:n.tipdom.height()/2*-1,marginLeft:n.tipdom.width()/2*-1})},hideTip:function(){var t=this;t.tipdom&&t.tipdom.remove()}}),f=t.Class(c,n);f.defConfig=r,t[e]=f,t[e].getInstance=function(){return s||(s=new f(r))}}(gagame,"MiniWindow",gagame.Event,jQuery),function(t,e,n,o){var i,s={cls:""},a={init:function(e){var n=this;n.win=new t.MiniWindow(e),n.mask=t.Mask.getInstance(),n.reSet(),n.win.addEvent("afterHide",function(){n.reSet()}),n.closeTime=0},doAction:function(t){var e=this,n="rebulid"+t.type,o="getHtml"+t.type,i=function(){};e[n]&&$.isFunction(e[n])&&(i=e[n]),t.tpl="undefined"==typeof t.tpl?e[o]():""+t.tpl,delete t.type,i.call(e,t)},formatHtml:function(t,e){var n,o,i=e;for(n in i)i.hasOwnProperty(n)&&(o=RegExp("<#="+n+"#>","g"),t=t.replace(o,i[n]));return t},setTitle:function(t){var e=this,n=e.win;n.setTitle(t)},setContent:function(t,e){var n=this,o=n.win;o.setContent(t,e)},hideClose:function(){var t=this,e=t.win;e.getCloseDom().hide()},hideTitle:function(){var t=this,e=t.win;e.getTitleDom().hide()},addCssName:function(t){var e=this,n=e.win;n.getContainerDom().addClass(t)},restCssName:function(){var t=this,e=t.win,n=t.defConfig.cls;t.removeCssName(),e.getContainerDom().addClass(n)},removeCssName:function(t){var e=this,n=e.win;t?n.getContainerDom().removeClass(t):n.getContainerDom().removeClass()},show:function(t){var e=this,n=e.win;if("undefined"==typeof t)return void n.show();if(e.reSet(),"undefined"==typeof t.data&&(t.data={}),t.data.tplData="undefined"==typeof t.data.tplData?{}:t.data.tplData,t){if(t.type)return void e.doAction(t);"undefined"!=typeof t.tpl&&(t.content=e.formatHtml(t.tpl,t.data.tplData)),e.closeTime&&(clearTimeout(e.closeTime),e.closeTime=null),e.setTitle(t.title||"温馨提示"),e.setContent(t.content||""),t.cssName&&e.addCssName(t.cssName),t.confirmText&&n.setConfirmName(t.confirmText),t.cancelText&&n.setCancelName(t.cancelText),t.closeText&&n.setCloseName(t.closeText),t.normalCloseFun&&(n.doNormalClose=t.normalCloseFun),t.confirmFun&&(n.doConfirm=t.confirmFun),t.cancelFun&&(n.doCancel=t.cancelFun),t.closeFun&&(n.doClose=t.closeFun),t.confirmIsShow&&n.showConfirmButton(),t.cancelIsShow&&n.showCancelButton(),t.closeIsShow&&n.showCloseButton(),t.hideTitle&&e.hideTitle(),t.hideClose&&e.hideClose(),t.isShowMask&&e.mask.show(),n.show(),t.callback&&t.callback.call(e),t.time>0&&(e.closeTime=setTimeout(function(){e.hide(),clearTimeout(e.closeTime),e.closeTime=null},1e3*t.time))}},getContainerDom:function(){var t=this;return t.win.getContainerDom()},getContentDom:function(){var t=this;return t.win.getContentDom()},hide:function(){var t=this,e=t.win;e.hide(),t.reSet()},reSet:function(){var t=this,e=t.win;t.mask.hide(),t.setTitle("提示"),t.setContent(""),e.hideConfirmButton(),e.hideCancelButton(),e.hideCloseButton(),e.doConfirm=function(){},e.doCancel=function(){},e.doClose=function(){},e.doNormalClose=function(){},e.setConfirmName("确 认"),e.setCancelName("取 消"),e.setCloseName("关 闭")}},r=t.Class(a,n);r.defConfig=s,r.getInstance=function(t){return i||(i=new r(t))},t[e]=r}(gagame,"Message",gagame.Event),function(t,e,n,o,i){var s,a={cls:"j-ui-tip-l",target:"body",text:"",effectShow:function(){this.dom.show()},effectHide:function(){this.dom.hide()}},r="j-ui-tip",c=500,f={init:function(t){var e=this;e.dom=o('<div class="'+r+" "+t.cls+'" style="display:none;position:absolute;left:0;top:0;z-index:'+c++ +';"><i class="sj sj-t"></i><i class="sj sj-r"></i><i class="sj sj-b"></i><i class="sj sj-l"></i><span class="ui-tip-text">'+t.text+"</span></div>").appendTo(o("body")),e.effectShow=t.effectShow,e.effectHide=t.effectHide},getTextContainer:function(){var t=this;return t._textContainer||(t._textContainer=t.dom.find(".ui-tip-text"))},getDom:function(){return this.dom},setText:function(t){var e=this;e.getTextContainer().html(t)},show:function(t,e,n){var s=this,a=o(n==i?s.defConfig.target:n).offset();s.dom.css({left:a.left+t,top:a.top+e}),s.effectShow()},hide:function(){this.effectHide()},remove:function(){this.getDom().remove()}},d=t.Class(f,n);d.defConfig=a,t[e]=d,t[e].getInstance=function(){return s||(s=new t[e]({cls:"j-ui-tip-l j-ui-tip-info"}))}}(gagame,"Tip",gagame.Event,jQuery);var dsAvatars=["1.jpg","2.jpg","3.jpg","4.jpg","5.jpg","6.jpg"],dsAvatarPath="/assets/images/global/avatar/",formatDateUnix=formatDateUnix||function(t){var e=new Date;e.setTime(1e3*parseInt(t));var n=e.getMonth()+1,o=e.getDate(),i=e.getHours(),s=e.getMinutes(),a=e.getSeconds();return 10>n&&(n="0"+n),10>o&&(o="0"+o),10>i&&(i="0"+i),10>s&&(s="0"+s),10>a&&(a="0"+a),n+"-"+o+" "+i+":"+s+":"+a},formatMoney=formatMoney||function(t){var t=Number(t),e=/(-?\d+)(\d{3})/;for(t=Number.prototype.toFixed?t.toFixed(2):Math.round(100*t)/100,t=""+t;e.test(t);)t=t.replace(e,"$1,$2");return t},dsCookie={readCookie:function(t){for(var e=t+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var i=n[o];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(e))return i.substring(e.length,i.length)}return""},eraseCookie:function(t){this.createCookie(t,"",-1)},createCookie:function(t,e,n){var o="";if(n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),o="; expires="+i.toGMTString()}document.cookie=t+"="+e+o+"; path=/"}};!function(t){function e(e,n){this.opts=t.extend({delay:300,handler:'[data-overdropdown="handler"]',dropdown:'[data-overdropdown="dropdown"]',activeClass:"active",handlerIsLink:!1,debugs:!1},n),this.$t=t(e),this.debugs=this.opts.debugs,this.init()}e.prototype={init:function(){var t=this,e=t.$t.find(t.opts.handler),n=t.$t.find(t.opts.dropdown).fadeOut("fast");return e.length&&n.length?(t.timerOut=null,t.timerIn=null,t.$handler=e,t.$dropdown=n,void t.bindEvent()):!1},bindEvent:function(){var e=this,n=e.opts;e.$handler.hover(function(){var o=t(this);e.timerOut&&clearTimeout(e.timerOut),e.timerIn=setTimeout(function(){o.addClass(n.activeClass),e.$dropdown.fadeIn("fast")},n.delay)},function(){var o=t(this);e.timerIn&&clearTimeout(e.timerIn),e.timerOut=setTimeout(function(){o.removeClass(n.activeClass),e.$dropdown.fadeOut("fast")},n.delay)}).on("click",function(){return n.handlerIsLink?void 0:!1}),e.$dropdown.hover(function(){e.$dropdown.is(":visible")?e.timerOut&&clearTimeout(e.timerOut):e.$handler.fadeIn("fast")},function(){e.$dropdown.is(":visible")&&(e.timerOut=setTimeout(function(){e.$handler.removeClass(n.activeClass),e.$dropdown.fadeOut("fast")},n.delay))})},debug:function(){this.debugs&&window.console&&console.log&&console.log("[overdropdown]",arguments)}},t.fn.overdropdown=function(n){var o;return this.each(function(){o=t.data(this,"overdropdown"),o||(o=t.data(this,"overdropdown",new e(this,n)))}),o}}(jQuery),function(t){function e(e,n){this.opts=t.extend({eventsData:[],debugs:!1},n),this.$t=t(e),this.debugs=this.opts.debugs,this.init()}e.prototype={init:function(){var e=this,n=e.opts.eventsData,o='<div class="event-push"> 				<span class="push-close right c-gray">关闭提示</span> 				<label class="left"><b>当前热门活动</b></label>';t.each(n,function(t,e){var n=e.link?e.link:"javascript:void(0);";t>0&&(o+="|"),o+='<a class="c-important" href="'+n+'">'+e.title+"</a>"}),o+="</div>";var i=t(o);e.$t.replaceWith(i),e.$t=i,e.$t.find(".push-close").on("click",function(){return e.$t.fadeOut("slow"),!1})},debug:function(){this.debugs&&window.console&&console.log&&console.log("[eventsPush]",arguments)}},t.fn.eventsPush=function(n){var o;return this.each(function(){o=t.data(this,"eventsPush"),o||(o=t.data(this,"eventsPush",new e(this,n)))}),o}}(jQuery),$(function(){$("[data-money-format]").each(function(){var t=$(this);html=t.html(),re=/(\d+)\.(\d+)/,fontSize=parseInt(t.css("fontSize")),fontSize<=12&&t.css({"font-size":"13px"}),html=html.replace(re,"$1.<small>$2</small>"),t.html(html)}),$("[data-event-push]").eventsPush({eventsData:[{title:"",link:"/"}]}),$("[data-ds-avatar]").each(function(){var t=$(this).data("ds-avatar"),e=dsAvatarPath+(dsAvatars[t-1]||dsAvatars[0]);$(this).replaceWith('<img src="'+e+'" alt="">')})});